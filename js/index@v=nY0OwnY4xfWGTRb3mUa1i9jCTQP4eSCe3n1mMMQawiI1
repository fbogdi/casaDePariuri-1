var PSKweb=PSKweb||{};PSKweb.Statistic=function(){return this.launch=function(n){if(PSKweb.IsBetradarStatisticEnabled){n=parseInt(n,10);n=Math.abs(n);var t=PSKweb.BetRadarStatisticsMatchPageUrl.replace("{0}",n);window.open(t,"Statistika","width=850,height=750,resizable=yes,scrollbars=yes")}},this}();PSKweb.Loading.addLoadingFunction(function(){var o,n;PSKweb.Betslip.Controller.init();var u="selected",f=$(".js-psk-event-container, .game-container").find(".bet-offer-list, .game-offers"),t=function(n,t,i,r,f){var e=r?"addClass":"removeClass";$((f||$).find(".event"+n+"_"+t)).find(".bet-pick[data-pick='"+i+"']")[e](u);$((f||$).find(".game-offers .pick[data-bet-offer-id='"+t+"'][data-pick='"+i+"']"))[e](u)},e=function(n){$(n||f).find(".bet-pick[data-pick].selected, .pick[data-pick].selected").removeClass(u);PSKweb.Betslip.Model.getActiveBetslip().bets.each(function(i){t(i.get("EventId"),i.get("BetOfferId"),i.get("Pick"),!0,n)})},a=function(n){t(n.get("EventId"),n.get("BetOfferId"),n.get("Pick"),!1)},c=function(n){t(n.get("EventId"),n.get("BetOfferId"),n.get("Pick"),!0)},v=function(n){t(n.get("EventId"),n.previous("BetOfferId"),n.previous("Pick"),!1);c(n)},y=function(n){n.option!==undefined&&n.options.isClearAll==!1&&PSKweb.infinum.sidebarResize()};PSKweb.Betslip.Model.on("bets:add bets:remove",y);PSKweb.Betslip.Model.on("bets:remove",a);PSKweb.Betslip.Model.on("bets:add",c);PSKweb.Betslip.Model.on("bets:change:Pick bets:change:BetOfferId",v);PSKweb.Betslip.Model.on("change:ActiveBetslipIndex",$.proxy(e,null,null));e();o=function(n){var t=$(n.currentTarget),i=t.data("bet-offer-id"),r=t.data("pick");PSKweb.Betslip.Controller.toggleBet(i,r,n)};$(".betting-tables").not("#live-betting-box").not("#live-offer-box").on("click",".bet-pick[data-pick], .pick[data-pick]",o);$(".game-container").on("click",".bet-pick[data-pick], .pick[data-pick]",o);$(".betting-tables:not(#live-betting-box, #live-offer-box)").on("click",".event-header-statistic",null,function(){PSKweb.Statistic.launch($(this).attr("id"))});$("span.statistics").on("click",function(){PSKweb.Statistic.launch($(this).attr("id"))});$(".sports-header .search img").click(function(){$(this).parent().addClass("active");$(this).parent().find("input").focus()});$(".betting-tables").on("click",".header-col-expand-button",function(n){if($(this).parents(".has-filter").length){n.preventDefault();n.stopPropagation();var e=$(this),t=e.parents(".event-layout"),i=t.children(".event-col-scroll"),r=t.children(".event-filters").children("ul"),u=$(this).closest(".psk-sport-group"),f=$(u).find(".event-col-bets"),o=$(u).find(".psk-event-list");t.hasClass("filter-open")?(i.hide(),r.hide(),t.removeClass("filter-open"),i.show(),f.find(".bet-type").hide(),f.find(".bet-type[data-mostbalanced=True]").slice(0,5).show(),o.find(".event-layout").each(function(n,t){$(t).find(".bet-offer[data-mostbalanced=True]").hide();$(t).find(".bet-offer[data-mostbalanced=False]").hide();$(t).find(".bet-offer:not([data-mostbalanced=False])").slice(0,5).show()})):(t.addClass("filter-open"),r.css("display","none"),i.css("display","none"),i.show(),r.show(),r.find("a").first().trigger("click"))}});$(".betting-tables").on("click",".event-filters a",function(){var n=$(this).attr("data-id");$(this).parents(".event-filters").find("a").removeClass("active");$(this).addClass("active");var t=$(this).closest(".psk-sport-group"),i=$(t).find(".event-col-bets"),r=$(t).find(".psk-event-list");i.find(".bet-type").hide();i.find("[data-bettypeid='"+n+"']").show();r.find(".bet-offer").hide();r.find("[data-bettypeid='"+n+"']").show()});if(n=$(".load-next-contest, .load-next-bettype"),_.isEmpty(n)===!1){var i=null,p={lines:11,length:7,width:5,radius:10,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"48.7%",position:"relative"},w=function(){i||(i=new Spinner(p));i.spin(n[0]);n.height(30)},s=!1,h=!1,l=n.data("haseventsfordate")=="True"?!0:!1,b=function(){var t,r,c,a;if(s===!0||h===!0)return $.Deferred().reject().promise();if(s=!0,w(),t=null,r=PSKweb.Core.getParameterByName("date"),n.hasClass("load-next-contest")){var v=n.data("offerboxid"),u=location.pathname.substr(location.pathname.lastIndexOf("/")+1),o=location.pathname.indexOf("/SuperCategory/",0)!=-1;t=$.get(PSKweb.Utils.baseUrl+"Sport/FetchContestBoxForContinuousLoad",{date:l?r:"sve",sportId:u=="offer"||o?null:u,sportNavigationItemId:o?u:null,contestId:v})}else if(n.hasClass("load-next-bettype"))c=n.data("offerboxid"),a=location.pathname.substr(location.pathname.lastIndexOf("/")+1),t=$.get(PSKweb.Utils.baseUrl+"Sport/FetchSpecialValuesBoxForContinuousLoad",{date:l?r:"sve",contestId:a,betTypeId:c});else throw Exception("Unknown async loader box.");return t.done(function(t){n.before(t.CurrentHtml);var i=n.prev();f=f.add(i.find(".bet-offer-list, .game-offers"));e(i);i.find('[data-toggle="tooltip"]').tooltip();n.data("offerboxid",t.NextOfferBoxId);t.NextOfferBoxId==null&&(h=!0)}).fail(function(){console.error("Can't load any more contests.")}).always(function(){i.stop();s=!1})},r=function(){var t=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,i=window.innerHeight,u=n.parent().height();h===!0&&$(document).unbind("scroll",r);t+i>u-500&&b().done(function(){r()})};$(document).scroll(r);r()}},"Sports/SportsView.js");PSKweb.LiveBox={initialize:function(){var n=this;if(PSK.isInitialized!==!0){if(PSKweb.User.liveboxEnabled===!1){$("div.live-betting").fadeOut();return}PSKweb.initHub().done(function(){var u,t,r,i;PSK.IsBetradarStatisticEnabled=PSKweb.IsBetradarStatisticEnabled;PSK.BetRadarStatisticsMatchPageUrl=PSKweb.BetRadarStatisticsMatchPageUrl;PSK.initBox();PSK.Bus.statistic.init();n.bets=new PSK.Collections.Event;n.liveBoxBets=new PSK.Collections.Event;n.sports=new PSK.Collections.Sport;u=new PSK.Controller.Hub({collection:n.bets,sports:n.sports,unselectedSports:null,unselectedBets:null,favoriteBets:null,favoritesSports:null});PSK.liveboxController=new PSK.Controller.LiveboxGrouper({sports:n.sports,source:n.bets,collection:n.liveBoxBets});PSK.liveboxController.source.on("change",function(){PSK.liveboxController.source.length===0?$(".betting-tables div.live-betting").hide():$(".betting-tables div.live-betting").show()});PSK.liveboxController.source.length===0&&$(".betting-tables div.live-betting").hide();n.sportsGroupList=new PSK.Views.SportGroupList({sports:n.sports});PSK.Bus.liveEvent.on("details",n.goToLiveEventView);if($(".live-betting div.psk-events").append(n.sportsGroupList.render().$el),t=$("#live-betting-spinner"),t.length==1){r=$("#live-offer-box").hide();i=new Spinner(n.spinnerOptions);i.spin(t[0]);PSK.Bus.liveEvent.once("liveEventsLoaded",function(){i.stop();t.hide();r.slideDown("normal")},PSK.Routers.Main)}}).fail(function(){$("div.live-betting").hide()})}},spinnerOptions:{lines:9,length:6,width:4,radius:8,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},goToLiveEventView:function(n){var t=/([^\.]*\.)?(.*)/,i=t.exec(window.location.host)[1]||"",r=t.exec(window.location.host)[2];window.location.href=window.location.protocol+"//"+i+r+"/Live#live/"+n.get("Id")}}